/* 
   Liquid Glass - Adaptive Premium Theme
   Phase 4 - Advanced Physics & Form Integration
*/

:root {
  /* Physics of the Glass Material - Light (Default) */
  --glass-base: #a0a0a5;
  --glass-highlight: #ffffff;
  --glass-shadow: #000000;
  --glass-reflex-opacity-light: 0.7;
  --glass-reflex-opacity-dark: 0.5;
  --glass-saturation: 100%;
  --glass-blur-radius: 20px;

  /* Content Colors */
  --glass-content-color: #1a1a1c;
}

@media (prefers-color-scheme: dark) {
  :root {
    --glass-base: #121214;
    --glass-reflex-opacity-light: 0.2;
    --glass-reflex-opacity-dark: 1.2;
    --glass-content-color: #ededf2;
    --glass-saturation: 100%;
  }
}

/* Animations */
@keyframes gloss-sweep {
  0% {
    transform: translateX(-150%) skewX(-25deg);
  }
  100% {
    transform: translateX(150%) skewX(-25deg);
  }
}

/* The Core Liquid Glass Engine */
.liquid-glass {
  position: relative;
  background-color: color-mix(in srgb, var(--glass-base) 14%, transparent);
  backdrop-filter: blur(var(--glass-blur-radius))
    saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-radius))
    saturate(var(--glass-saturation));

  box-shadow:
    inset 0 1px 0 0
      color-mix(
        in srgb,
        var(--glass-highlight) calc(var(--glass-reflex-opacity-light) * 35%),
        transparent
      ),
    inset 0 0 0 1px
      color-mix(
        in srgb,
        var(--glass-highlight) calc(var(--glass-reflex-opacity-light) * 15%),
        transparent
      ),
    inset 2.5px 5px 0px -2px
      color-mix(
        in srgb,
        var(--glass-highlight) calc(var(--glass-reflex-opacity-light) * 85%),
        transparent
      ),
    inset -1.5px 2.5px 0px -2px
      color-mix(
        in srgb,
        var(--glass-shadow) calc(var(--glass-reflex-opacity-dark) * 25%),
        transparent
      ),
    0px 12px 40px -8px
      color-mix(
        in srgb,
        var(--glass-shadow) calc(var(--glass-reflex-opacity-dark) * 22%),
        transparent
      );

  border: none;
  color: var(--glass-content-color);
  overflow: hidden;
}

/* Transitions for Premium Interaction */
.liquid-glass,
.liquid-glass *,
.glass-btn,
.glass-input,
.glass-tile,
.glass-switch-handle {
  transition: all 0.28s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Glass Button - Professional Variant */
.glass-btn {
  cursor: pointer;
  background-color: color-mix(in srgb, var(--glass-base) 12%, transparent);
  border: 1px solid color-mix(in srgb, var(--glass-highlight) 10%, transparent);
  color: var(--glass-content-color);
  border-radius: 99em;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  position: relative;
  overflow: hidden;
  box-shadow:
    inset 0 1px 1px 0
      color-mix(in srgb, var(--glass-highlight) 20%, transparent),
    0 4px 12px color-mix(in srgb, var(--glass-shadow) 12%, transparent);
}

.glass-btn::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    to right,
    transparent,
    color-mix(in srgb, var(--glass-highlight) 20%, transparent),
    transparent
  );
  transform: skewX(-25deg);
  pointer-events: none;
}

.glass-btn:hover {
  background-color: color-mix(in srgb, var(--glass-base) 18%, transparent);
  border-color: color-mix(in srgb, var(--glass-highlight) 25%, transparent);
  box-shadow:
    0 4px 16px color-mix(in srgb, var(--glass-shadow) 15%, transparent),
    inset 0 1px 1px 0
      color-mix(in srgb, var(--glass-highlight) 20%, transparent);
}

.glass-btn:hover::after {
  animation: gloss-sweep 0.8s ease-in-out;
}

.glass-btn:active {
  background-color: color-mix(in srgb, var(--glass-base) 35%, transparent);
  opacity: 0.8;
}

/* Glass Input */
.glass-input {
  background-color: color-mix(in srgb, var(--glass-base) 10%, transparent);
  border: 1px solid color-mix(in srgb, var(--glass-highlight) 12%, transparent);
  color: var(--glass-content-color);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  border-radius: 8px;
  padding: 12px 16px;
  box-shadow: inset 0 1px 2px
    color-mix(in srgb, var(--glass-shadow) 5%, transparent);
}

.glass-input:focus {
  outline: none;
  background-color: color-mix(in srgb, var(--glass-base) 15%, transparent);
  border-color: color-mix(in srgb, var(--glass-highlight) 40%, transparent);
  box-shadow:
    inset 0 1px 2px color-mix(in srgb, var(--glass-shadow) 8%, transparent),
    0 0 0 3px color-mix(in srgb, var(--glass-highlight) 10%, transparent);
}

/* Glass Tile (Shortcuts) */
.glass-tile {
  background-color: color-mix(in srgb, var(--glass-base) 8%, transparent);
  border: 1px solid color-mix(in srgb, var(--glass-highlight) 8%, transparent);
  color: var(--glass-content-color);
  padding: 6px 12px;
  border-radius: 6px;
  font-family: monospace;
  font-size: 0.85rem;
  backdrop-filter: blur(2px);
  box-shadow: 0 2px 6px color-mix(in srgb, var(--glass-shadow) 5%, transparent);
}

/* Glass Switch */
.glass-switch-track {
  background-color: color-mix(in srgb, var(--glass-base) 20%, transparent);
  border: 1px solid color-mix(in srgb, var(--glass-highlight) 10%, transparent);
  border-radius: 99em;
  transition: all 0.3s var(--ease-spring);
}

.glass-switch-handle {
  background-color: color-mix(in srgb, var(--glass-highlight) 90%, transparent);
  border: 1px solid var(--glass-highlight);
  border-radius: 50%;
  box-shadow: 0 2px 4px color-mix(in srgb, var(--glass-shadow) 20%, transparent);
}

.glass-text {
  color: var(--glass-content-color);
}
