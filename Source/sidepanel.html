<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GeniePlex AI Side Panel</title>
    <!-- Critical inline CSS for instant visibility - NO FOUC! -->
    <style>
      /* Instant visibility - before external CSS loads */
      * { margin: 0; padding: 0; box-sizing: border-box; }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background-color: #111318;
        color: #e2e2e6;
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100%;
        overflow: hidden;
        visibility: visible !important;
        opacity: 1 !important;
      }
      
      .container {
        display: flex;
        flex-direction: column;
        height: 100%;
        visibility: visible !important;
        opacity: 1 !important;
      }
      
      .toolbar {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        gap: 4px;
        padding: 8px 4px;
        background-color: #1d2024;
        border-bottom: 1px solid #42474e;
        position: relative;
        overflow-x: auto;
        overflow-y: hidden;
        flex-wrap: nowrap;
        visibility: visible !important;
        opacity: 1 !important;
      }
      
      .btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: transparent;
        border: none;
        padding: 8px 12px;
        cursor: pointer;
        position: relative;
        border-radius: 100px;
        min-width: 64px;
        height: 48px;
      }
      
      .toolbar-icon {
        width: 32px;
        height: 32px;
        object-fit: contain;
      }
      
      .content {
        flex: 1;
        position: relative;
        overflow: hidden;
        background-color: #111318;
      }
      
      #iframe-container {
        width: 100%;
        height: 100%;
        position: relative;
        background-color: #111318;
      }
      
      .loader {
        display: flex;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 100;
        justify-content: center;
        align-items: center;
        background: #1a1a1a;
      }
      
      .circular-loader {
        animation: rotate 2s linear infinite;
        height: 64px !important;
        width: 64px !important;
        transform-origin: center center;
      }
      
      .loader-path {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
        animation: dash 1.5s ease-in-out infinite;
        stroke-linecap: round;
        stroke: #89b4fa;
        fill: none;
        stroke-width: 3 !important;
      }
      
      @keyframes rotate {
        100% { transform: rotate(360deg); }
      }
      
      @keyframes dash {
        0% { stroke-dasharray: 1, 200; stroke-dashoffset: 0; }
        50% { stroke-dasharray: 89, 200; stroke-dashoffset: -35px; }
        100% { stroke-dasharray: 89, 200; stroke-dashoffset: -124px; }
      }
      
      /* Support page hidden by default */
      .support-page {
        display: none;
      }
    </style>
    <!-- Load full CSS asynchronously - won't block rendering -->
    <link rel="stylesheet" href="sidepanel-modular.css" />
  </head>
  <body>
    <div class="container">
      <nav class="toolbar" id="toolbar">
        <div class="active-indicator"></div>
        <button class="btn" data-url="https://gemini.google.com/" data-label="Gemini"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/gemini.svg" alt="Gemini Icon" class="toolbar-icon" draggable="false" />
          <!-- <span>Gemini</span> -->
        </button>
        <button class="btn" data-url="https://chatgpt.com/" data-label="ChatGPT"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/chatgpt.svg" alt="ChatGPT Icon" class="toolbar-icon invert-color" />
          <!-- <span>ChatGPT</span> -->
        </button>
        <button class="btn" data-url="https://claude.ai/new" data-label="Claude" draggable="true">
          <div class="state-layer"></div>
          <img src="logos/claude.svg" alt="Claude Icon" class="toolbar-icon" draggable="true" />
          <!-- <span>Claude</span> -->
        </button>
        <button class="btn" data-url="https://copilot.microsoft.com/chat" data-label="Copilot"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/copilot.svg" alt="Copilot Icon" class="toolbar-icon" draggable="true" />
          <!-- <span>Copilot</span> -->
        </button>
        <button class="btn" data-url="https://chat.deepseek.com/" data-label="DeepSeek"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/deepseek.svg" alt="DeepSeek Icon" class="toolbar-icon" draggable="true" />
          <!-- <span>DeepSeek</span> -->
        </button>
        <button class="btn" data-url="https://grok.com/" data-label="Grok"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/grok.svg" alt="Grok Icon" class="toolbar-icon invert-color" draggable="true" />
          <!-- <span>Grok</span> -->
        </button>
        <button class="btn" data-url="https://chat.mistral.ai/chat" data-label="Mistral"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/mistral.svg" alt="Mistral Icon" class="toolbar-icon invert-color" draggable="true" />
          <!-- <span>Mistral</span> -->
        </button>
        <button class="btn" data-url="https://www.perplexity.ai/discover" data-label="Perplexity"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/perplexity.svg" alt="Perplexity Icon" class="toolbar-icon invert-color" draggable="true" />
          <!-- <span>Perplexity</span> -->
        </button>
        <button class="btn" data-url="https://chat.qwen.ai/" data-label="Qwen"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/qwen.svg" alt="Qwen Icon" class="toolbar-icon invert-color" draggable="true" />
          <!-- <span>Qwen</span> -->
        </button>
        <button class="btn" data-url="https://www.kimi.com" data-label="Kimi"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/kimi.svg" alt="Kimi Icon" class="toolbar-icon" draggable="true" />
          <!-- <span>Kimi</span> -->
        </button>
        <button class="btn" data-url="https://github.com/copilot" data-label="GitHub Copilot"
          draggable="true">
          <div class="state-layer"></div>
          <img src="logos/githubcopilot.svg" alt="Github Copilot Icon" class="toolbar-icon invert-color"
            draggable="true" />
          <!-- <span>Github Copilot</span> -->
        </button>
        <div id="custom-buttons-container"></div>
        <button id="split-view-btn" class="btn" title="Split View">
          <div class="state-layer"></div>
          <svg class="toolbar-icon" width="24" height="24" viewBox="0 0 24 24" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4ZM4 6V18H11V6H4ZM20 18V6H13V18H20Z"
              fill="currentColor" />
          </svg>
          <!-- <span data-i18n="splitView"></span> -->
        </button>
        <button class="btn settings-btn" id="support-btn">
          <div class="state-layer"></div>
          <svg class="toolbar-icon"
            xmlns="http://www.w3.org/2000/svg" draggable="true"
            fill="currentColor"
            viewBox="0 -960 960 960">
            <path
              d="M480-80q-139-35-229.5-159.5T160-516v-244l320-120 320 120v244q0 152-90.5 276.5T480-80Zm0-84q104-33 172-132t68-220v-189l-240-90-240 90v189q0 121 68 220t172 132Zm0-316Z" />
          </svg>
          <!-- <span data-i18n="settings"></span> -->
        </button>
      </nav>
      <main class="content">
        <div id="iframe-container">
          <div class="loader" role="status" aria-live="polite">
            <svg class="circular-loader" viewBox="25 25 50 50">
              <circle class="loader-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>
            </svg>
          </div>
        </div>
        <div id="support-page" class="support-page">
          <h1 class="gradient-text">GeniePlex AI Side Panel</h1>
          <img src="images/icon.png" alt="Logo" class="logo" />

          <!-- Settings Cards - Material 3 Style -->
          <div class="settings-card" id="models-section">
            <h3 class="card-title" data-i18n="models">Models</h3>
            <div class="toggle-item">
              <span>ChatGPT</span>
              <label class="switch">
                <input type="checkbox" id="toggle-chatgpt" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Gemini</span>
              <label class="switch">
                <input type="checkbox" id="toggle-gemini" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Claude</span>
              <label class="switch">
                <input type="checkbox" id="toggle-claude">
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Copilot</span>
              <label class="switch">
                <input type="checkbox" id="toggle-copilot" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>DeepSeek</span>
              <label class="switch">
                <input type="checkbox" id="toggle-deepseek">
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Grok</span>
              <label class="switch">
                <input type="checkbox" id="toggle-grok" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Mistral</span>
              <label class="switch">
                <input type="checkbox" id="toggle-mistral">
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Perplexity</span>
              <label class="switch">
                <input type="checkbox" id="toggle-perplexity">
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Qwen</span>
              <label class="switch">
                <input type="checkbox" id="toggle-qwen">
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Kimi</span>
              <label class="switch">
                <input type="checkbox" id="toggle-kimi">
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Github Copilot</span>
              <label class="switch">
                <input type="checkbox" id="toggle-githubcopilot">
                <span class="slider"></span>
              </label>
            </div>
          </div>

          <div class="settings-card" id="customize-navigation-section">
            <h3 class="card-title" data-i18n="customizeNavigation">Customize Navigation</h3>
            <div class="toggle-item">
              <span data-i18n="splitView">Split View</span>
              <label class="switch">
                <input type="checkbox" id="toggle-split-view" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span>Content Extractor</span>
              <label class="switch">
                <input type="checkbox" id="toggle-content-extractor" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span data-i18n="scrollbarAlwaysVisible">Scrollbar Always Visible</span>
              <label class="switch">
                <input type="checkbox" id="toggle-scrollbar-always-visible" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="toggle-item">
              <span data-i18n="rememberLastModel">Remember last selected model</span>
              <label class="switch">
                <input type="checkbox" id="toggle-remember-last-model">
                <span class="slider"></span>
              </label>
            </div>
          </div>

          <div class="settings-card" id="custom-links-container">
            <h3 class="card-title" data-i18n="customLinks">Custom Links</h3>
            <div class="add-link-form">
              <input type="text" id="custom-link-input" placeholder="Enter URL" />
              <button id="add-link-btn" data-i18n="add">Add</button>
            </div>
            <div id="custom-links-list"></div>
          </div>

          <div class="settings-card" id="shortcut-section">
            <div class="shortcut-header">
              <h3 class="card-title" data-i18n="shortcutLabel">Keyboard Shortcuts</h3>
              <button id="manage-shortcuts-all" class="shortcut-button" title="Manage shortcuts" aria-label="Manage shortcuts">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c-.59-.24-1.13-.56-1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.03-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
                </svg>
              </button>
            </div>
            <div class="shortcut-item">
              <span data-i18n="toggleExtension">Toggle Extension</span>
              <div class="shortcut-input-wrapper">
                <input type="text" id="shortcut-input" class="shortcut-input" value="Alt+Q" readonly>
              </div>
            </div>
            <div class="shortcut-item">
              <span data-i18n="switchNext">Next model</span>
              <div class="shortcut-input-wrapper">
                <input type="text" id="shortcut-next-input" class="shortcut-input" value="Alt+Shift+N" readonly>
              </div>
            </div>
            <div class="shortcut-item">
              <span data-i18n="switchPrev">Previous model</span>
              <div class="shortcut-input-wrapper">
                <input type="text" id="shortcut-prev-input" class="shortcut-input" value="Alt+Shift+P" readonly>
              </div>
            </div>
            <p class="shortcut-info" data-i18n="shortcutInfo"></p>
            <p class="shortcut-info" data-i18n="shortcutsNote">Shortcuts are managed by your browser. If a combo conflicts with system or browser keys, pick another.</p>
          </div>

          <!-- <div class="settings-card" id="language-section">
            <h3 class="card-title" data-i18n="language">Language</h3>
            <div class="select-wrapper">
              <select id="language-select">
                <option value="en">English</option>
                <option value="de">Deutsch</option>
                <option value="es">Español</option>
                <option value="fr">Français</option>
                <option value="ru">Русский</option>
                <option value="tr">Türkçe</option>
                <option value="zh_CN">中文</option>
              </select>
              <svg class="select-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M7 10l5 5 5-5z" fill="currentColor" />
              </svg>
            </div>
          </div>

          <div class="settings-card" id="theme-settings-section">
            <h3 class="card-title" data-i18n="themeLabel">Theme</h3>
            <div class="select-wrapper">
              <select id="theme-select">
                <option value="default" data-i18n="themeDefault">Default</option>
                <option value="synthwave" data-i18n="themeSynthwave">Synthwave</option>
                <option value="glass" data-i18n="themeGlassmorphism">Glassmorphism</option>
                <option value="brutal" data-i18n="themeBrutalism">Neo‑Brutalism</option>
                <option value="neo-noir" data-i18n="themeNeoNoir">Neo Noir Dark</option>
                <option value="neo-anime" data-i18n="themeNeoAnime">Neo‑Anime</option>
              </select>
              <svg class="select-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M7 10l5 5 5-5z" fill="currentColor" />
              </svg>
            </div>
            <p class="shortcut-info" data-i18n="themeSavedInfo">Your choice is saved for next time.</p>
          </div> -->

          <div class="settings-card" id="synthwave-dim-container" style="display:none;">
            <h3 class="card-title" data-i18n="synthOptions">Synthwave Options</h3>
            <div class="toggle-item">
              <span data-i18n="synthDimGlowLabel">Dim neon glow (low stimulus)</span>
              <label class="switch">
                <input type="checkbox" id="toggle-synthwave-dim">
                <span class="slider"></span>
              </label>
            </div>
          </div>

          <!-- <div class="buttons-container">
            <a class="social-button" data-social="github"
              href="https://github.com/creosb" target="_blank"
              rel="noopener noreferrer">
              <svg
                viewBox="0 0 24 24"
                fill="currentColor"
                height="24"
                width="24"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                class="icon">
                <path
                  clip-rule="evenodd"
                  d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z"
                  fill-rule="evenodd"></path>
              </svg>
            </a>

            <a class="social-button" data-social="x" target="_blank"
              rel="noopener noreferrer" href="https://x.com/creosb">
              <svg
                viewBox="0 0 512 512"
                height="1.7em"
                xmlns="http://www.w3.org/2000/svg"
                class="svgIcon"
                fill="white">
                <path
                  d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path>
              </svg>
            </a>
            <a class="social-button" data-social="youtube" target="_blank"
              rel="noopener noreferrer" href="https://www.youtube.com/@creosb">
              <svg
                viewBox="0 0 24 24"
                fill="currentColor"
                height="24"
                width="24"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                class="icon">
                <path
                  clip-rule="evenodd"
                  d="M21.7 8.037a4.26 4.26 0 0 0-.789-1.964 2.84 2.84 0 0 0-1.984-.839c-2.767-.2-6.926-.2-6.926-.2s-4.157 0-6.928.2a2.836 2.836 0 0 0-1.983.839 4.225 4.225 0 0 0-.79 1.965 30.146 30.146 0 0 0-.2 3.206v1.5a30.12 30.12 0 0 0 .2 3.206c.094.712.364 1.39.784 1.972.604.536 1.38.837 2.187.848 1.583.151 6.731.2 6.731.2s4.161 0 6.928-.2a2.844 2.844 0 0 0 1.985-.84 4.27 4.27 0 0 0 .787-1.965 30.12 30.12 0 0 0 .2-3.206v-1.516a30.672 30.672 0 0 0-.202-3.206Zm-11.692 6.554v-5.62l5.4 2.819-5.4 2.801Z"
                  fill-rule="evenodd"></path>
              </svg>
            </a>

            <button class="premium-social-button" data-social="premium"
              id="premium-social-button" title="Premium">
              <svg viewBox="0 0 24 24" fill="currentColor" height="24"
                width="24" class="icon" aria-hidden="true">
                <path
                  d="M12 2l3.09 6.26L22 9.27l-5 4.88L18.18 22 12 18.8 5.82 22 7 14.15l-5-4.88 6.91-1.01L12 2z" />
              </svg>
              <span class="premium-badge" aria-hidden="true">Premium</span>
            </button>
          </div> -->
          <div class="footer">
            <p class="footer-text" data-i18n="footerText"></p>
          </div>
        </div>
      </main>
    </div>
    <!-- Load JavaScript module after DOM structure is ready -->
    <script type="module" src="sidepanel-modular.js"></script>
  </body>
</html>
